{"pages":[],"posts":[{"title":"es6","text":"ES6é¡¹ç›®æ„å»º letå’Œconstå‘½ä»¤letå‘½ä»¤letå£°æ˜ 123456{ let a=10;//letå£°æ˜çš„å˜é‡åªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—æœ‰æ•ˆ var b=1;}console.log(b);// console.log(a);//æŠ¥é”™ letåº”ç”¨ 1234567891011for(let i=0;i&lt;10;i++){}//console.log(i);//iä¸èƒ½åœ¨å¤–é¢å¼•ç”¨var a = [];for (var i = 0; i &lt; 10; i++) { a[i] = function () { console.log(i); };}a[6]();//å¦‚æœæ˜¯varå£°æ˜ï¼Œåˆ™ä¼šè¾“å‡º10ï¼›å¦‚æœæ˜¯letå£°æ˜ï¼Œåˆ™ä¼šè¾“å‡º6//letå£°æ˜ä¸­ï¼Œæ¯æ¬¡å¾ªç¯çš„iå…¶å®éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡ letä¸æ”¯æŒå˜é‡æå‡ åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€äº†è¿™å—åŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ 1234567891011var temp=123;if(true){ temp='abc';//ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸‹é¢çš„letå£°æ˜äº†tempï¼Œæ‰€ä»¥è¿™é‡Œçš„tempå’Œå¤–é¢çš„å°±æ²¡æœ‰å…³ç³»äº†ï¼Œ //ä½†æ˜¯æ­¤å¤„çš„èµ‹å€¼åœ¨å£°æ˜ä¹‹å‰ï¼Œè¿˜æ²¡æœ‰å£°æ˜å°±èµ‹å€¼ä¼šæŠ¥é”™ let temp; /*ES6æ˜ç¡®è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚*/ //ç§°ä¸ºæš‚æ—¶æ€§æ­»åŒº}typeof x; // æŠ¥é”™let x;//letä¸äºˆè®¸é‡å¤å£°æ˜ å—çº§ä½œç”¨åŸŸå¤–å±‚ä½œç”¨åŸŸæ— æ³•è¯»å–å†…å±‚ä½œç”¨åŸŸçš„å˜é‡ 1234{{{{ {let insane = 'Hello World'} console.log(insane); // æŠ¥é”™}}}}; å†…å±‚ä½œç”¨åŸŸå¯ä»¥å®šä¹‰å¤–å±‚ä½œç”¨åŸŸçš„åŒåå˜é‡ 1234{{{{ let insane = 'Hello World'; {let insane = 'Hello World'}}}}}; ä½œç”¨ï¼šä½¿çš„è·å¾—å¹¿æ³›åº”ç”¨çš„ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº† 12345678910// IIFE å†™æ³•(function () { var tmp = ...; ...}());// å—çº§ä½œç”¨åŸŸå†™æ³•{ let tmp = ...; ...} do è¡¨è¾¾å¼å—çº§ä½œç”¨åŸŸæœ¬è´¨ä¸Šæ˜¯è¯­å¥ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥åœ¨å¤–éƒ¨æ²¡æ³•æˆ–è®¸æ‰§è¡Œç»“æœ å¯ä»¥é€šè¿‡doè¡¨è¾¾å¼è·å–å—çº§ä½œç”¨äºä¸­çš„æœ€åæ‰§è¡Œçš„è¡¨è¾¾å¼çš„å€¼ã€‚ 1234let x = do{ let t = f(); t * t + 1;} const å‘½ä»¤const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚â€”æ‰€ä»¥å¸¸é‡ä¸€æ—¦å£°æ˜å°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼const çš„ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆconst å‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚ constå®é™…ä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„å“ªä¸ªåœ°å€ä¸å¾—æ”¹åŠ¨å¦‚ï¼šconst foo={}ï¼›fooå­˜çš„æ˜¯åœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ï¼Œæ•…å¯æ·»åŠ å±æ€§foo.prop=123;ä½†æ˜¯ä¸å¯æŠŠfooæŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼šfoo = {}//é”™è¯¯ â€”â€”â€”â€”-è®©å¯¹è±¡å†»ç»“çš„æ–¹æ³•ï¼ˆä¸å¯æ”¹å˜å±æ€§ï¼‰â€”â€”â€”â€”â€” 12const foo=Object freeze({});foo.prop=123;//å¸¸è§„æ¨¡å¼ä¸‹ï¼Œæ­¤è¡Œä»£ç ä¸èµ·ä½œç”¨ã€‚ ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ â€”â€”â€”â€”-è®©å¯¹è±¡å½»åº•å†»ç»“çš„æ–¹æ³•â€”â€”â€”â€”â€”â€”â€”â€”-æ³¨ï¼šå¯¹è±¡çš„å±æ€§æœ‰å¯èƒ½è¿˜æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡çš„å±æ€§å°±æœ‰å¯èƒ½æœ‰è‡ªå·±çš„å±æ€§ï¼Œé‚£ä¹ˆå¯¹è±¡çš„å±æ€§ä¹Ÿè¦è¢«å†»ç»“ ***ä½¿ç”¨å›è°ƒå‡½æ•° 12345678var constantize = (obj)=&gt;{ Object freeze(obj); Object keys(obj).forEach((key,i)=&gt;{ if(typeof obj[key]==='object'){ constantize(obj[key]); } });} es6å£°æ˜å˜é‡çš„6ç§æ–¹æ³•var function let const import class es5åªæœ‰å‰ä¸¤ç§ é¡¶å±‚å¯¹è±¡çš„å±æ€§é¡¶å±‚å¯¹è±¡ï¼šwindowï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰ï¼Œglobalï¼ˆNodeç¯å¢ƒï¼‰ window.a=1; å’Œ a=1ï¼› æ˜¯ä¸€æ ·çš„ï¼Œå³é¡¶å±‚å¯¹è±¡å±æ€§å’Œå…¨å±€å˜é‡æ˜¯ä¸€æ ·çš„ è¿™æ˜¯JavaScriptè®¾è®¡çš„è´¥ç¬”ä¹‹ä¸€ï¼ŒES6ä¸ºäº†æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä¸€æ–¹é¢è§„å®šï¼Œä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ã€‚ 123456var a = 1;// å¦‚æœåœ¨Nodeçš„REPLç¯å¢ƒï¼Œå¯ä»¥å†™æˆglobal.a// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆthis.awindow.a // 1let b = 1;window.b // undefined globalå¯¹è±¡æœ‰ä¸€ä¸ªææ¡ˆï¼Œåœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ï¼Œå¼•å…¥globalä½œä¸ºé¡¶å±‚å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ‰€æœ‰ç¯å¢ƒä¸‹ï¼Œglobaléƒ½æ˜¯å­˜åœ¨çš„ï¼Œéƒ½å¯ä»¥ä»å®ƒæ‹¿åˆ°é¡¶å±‚å¯¹è±¡ å«ç‰‡åº“ï¼ˆsystem.globalï¼‰æ¨¡æ‹Ÿäº†è¿™ä¸ªææ¡ˆï¼Œå¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­æ‹¿åˆ°global 12import getGlobal from 'system.global';const global = getGlobal(); å˜é‡çš„è§£æ„èµ‹å€¼æ•°ç»„çš„è§£æ„èµ‹å€¼1234567891011121314151617181920let [foo, [[bar], baz]] = [1, [[2], 3]];foo // 1bar // 2baz // 3let [ , , third] = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];third // &quot;baz&quot;let [x, , y] = [1, 2, 3];x // 1y // 3let [head, ...tail] = [1, 2, 3, 4];head // 1tail // [2, 3, 4]let [x, y, ...z] = ['a'];x // &quot;a&quot;y // undefinedz // [] å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äºundefinedã€‚ 12let [foo] = [];let [bar, foo] = [1]; ä»¥ä¸Šä¸¤ç§æƒ…å†µéƒ½å±äºè§£æ„ä¸æˆåŠŸï¼Œfooçš„å€¼éƒ½ä¼šç­‰äºundefinedã€‚ ä¸å®Œå…¨è§£æ„ï¼š 12let [x, y] = [1, 2, 3];// x ä¸º1ï¼Œ yä¸º2let [a, [b], d] = [1, [2, 3], 4];//a ä¸º 1ï¼Œbä¸º 2ï¼Œdä¸º4 //ä¸‹é¢æƒ…å†µå°†ä¼šæŠ¥é”™ï¼Œå³è¾¹å¿…é¡»ä¸ºæ•°ç»„(å¯éå†çš„ç»“æ„â€”â€”Iterator æ¥å£)å½¢å¼ 123let [foo] = 1;let [foo] = undefined;let [foo] = {}; å¯¹äº Set ç»“æ„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚ 12let [x, y, z] = new Set(['a', 'b', 'c']);x // &quot;a&quot; äº‹å®ä¸Šï¼Œåªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰ Iterator æ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ã€‚ 12345678910function* fibs() { let a = 0; let b = 1; while (true) { yield a; [a, b] = [b, a + b]; }}let [first, second, third, fourth, fifth, sixth] = fibs();sixth // 5 é»˜è®¤å€¼è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ 123let [foo = true] = [];foo // truelet [x, y = 'b'] = ['a']; // x='a', y='b' ES6 å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œåˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä¸€ä¸ªæ•°ç»„æˆå‘˜ä¸ä¸¥æ ¼ç­‰äºundefinedï¼Œé»˜è®¤å€¼æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚ 1234let [x = 1] = [undefined];x // 1let [x = 1] = [null];x // null å¦‚æœä¸€ä¸ªæ•°ç»„æˆå‘˜æ˜¯nullï¼Œé»˜è®¤å€¼å°±ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºnullä¸ä¸¥æ ¼ç­‰äºundefinedã€‚==æƒ°æ€§æ±‚å€¼==ï¼šå³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šæ±‚å€¼é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ 123let [x = 1, y = x] = []; // x=1; y=1let [x = 1, y = x] = [1, 2]; // x=1; y=2let [x = y, y = 1] = []; // ReferenceError å¯¹è±¡çš„è§£æ„èµ‹å€¼æ•°ç»„çš„è§£æ„èµ‹å€¼æ˜¯æœ‰é¡ºåºçš„ï¼Œä½†æ˜¯å¯¹è±¡çš„è§£æ„èµ‹å€¼æ˜¯æ— éœ€çš„ï¼Œå˜é‡åå’Œå±æ€§åŒåæ‰èƒ½è·å–åˆ°æ­£ç¡®çš„å€¼ã€‚ 123456789101112131415let { bar: bar, foo: foo } = { foo: &quot;aaa&quot;, bar: &quot;bbb&quot;};// å¯ä»¥ç®€å†™ä¸ºlet { bar, foo } = { foo: &quot;aaa&quot;, bar: &quot;bbb&quot;};foo // &quot;aaa&quot;bar // &quot;bbb&quot;let {foo: xiao , baz } = { foo: &quot;aaa&quot;, bar: &quot;bbb&quot;};baz // undefinedxiao // &quot;aaa&quot;//çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…foo // error : foo is not definedlet obj = { first: 'hello', last: 'world' };let { first: f, last: 1 } = obj;f // 'hello'l // 'world' ä¸æ•°ç»„ä¸€æ ·ï¼Œç»“æ„ä¹Ÿå¯ä»¥ç”¨äºåµŒå¥—ç»“æ„çš„å¯¹è±¡ 123456789101112131415let obj = { p: [ 'Hello', { y: 'World' } ]};let { p: [x, { y }] } = obj;x // &quot;Hello&quot;y // &quot;World&quot;//å¦‚æœå†™æ³•å¦‚ä¸‹ï¼šé‚£ä¹ˆpæ—¢æ˜¯æ¨¡å¼åˆæ˜¯å˜é‡let { p, p: [x, { y }] } = obj;x // &quot;Hello&quot;y // &quot;World&quot;p // [&quot;Hello&quot;, {y: &quot;World&quot;}] ä¸€ä¸ªåµŒå¥—çš„ä¾‹å­ï¼š 12345let obj = {};let arr = [];({ foo: obj.prop, bar: arr[0] } = { foo: 123, bar: true});// æ­¤å¤„å¿…é¡»åŠ å°æ‹¬å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™obj // {prop:123}arr // [true] å¯¹è±¡çš„ç»“æ„ä¹Ÿå¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ä¸¥æ ¼ç­‰äºundefined å¦‚æœç»“æ„å¤±è´¥ï¼Œå˜é‡çš„å€¼ç­‰äºundefined 123var { x = 1, y = 2 } = { x: undefined, y: null };x // 1y // null å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡ 123let {sin, cos, tan} = Math;Math.sin // ä¸€ä¸ªsin functionsin // ä¸€ä¸ªsin function ç›´æ¥å°†Mathä¸­çš„æ–¹æ³•ç»™äº†sin å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ 1234567const [a, b, c, d, e] = 'hello';a // &quot;h&quot;e // &quot;o&quot;//ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è§£æ„èµ‹å€¼let {length : len} = 'hello';len // 5 æ•°å€¼å’Œå¸ƒå°”å€¼å¾—è§£æ„èµ‹å€¼è§£æ„èµ‹å€¼æ—¶ï¼Œå¦‚æœç­‰å·å³è¾¹æ˜¯æ•°å€¼å’Œå¸ƒå°”å€¼ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå¯¹è±¡ï¼Œæ— æ³•è½¬åŒ–æˆå¯¹è±¡ï¼Œå°†ä¼šæŠ¥é”™ 12345678let {toString: s} = 123;s === Number.prototype.toString // truelet {toString: s} = true;s === Boolean.prototype.toString // truelet { prop: x } = undefined; // TypeErrorlet { prop: y } = null; // TypeError å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼1234567function add([x, y]){ return x + y;}add([1, 2]); // 3[[1, 2], [3, 4]].map(([a, b]) =&gt; a + b);// [ 3, 7 ] undefinedå°±ä¼šè§¦å‘å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚ 12[1, undefined, 3].map((x = 'yes') =&gt; x);// [ 1, 'yes', 3 ] åœ†æ‹¬å·é—®é¢˜å»ºè®®åªè¦æœ‰å¯èƒ½ï¼Œå°±ä¸è¦åœ¨æ¨¡å¼ä¸­æ”¾ç½®åœ†æ‹¬å· ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ1.å˜é‡å£°æ˜è¯­å¥ 1234567//å…¨éƒ¨æŠ¥é”™let [(a)] = [1];let {x: (c)} = {};let ({x: c}) = {};let {(x: c)} = {};let {(x): c} = {};let { o: ({ p: p }) } = { o: { p: 2 } }; 2.å‡½æ•°å‚æ•° 1234// æŠ¥é”™function f([(z)]) { return z; }// æŠ¥é”™function f([z,(x)]) { return x; } 3.èµ‹å€¼è¯­å¥æ¨¡å¼ 123456// å…¨éƒ¨æŠ¥é”™({ p: a }) = { p: 42 };([a]) = [5];// æŠ¥é”™[({ p: a }), { x: c }] = [{}, {}]; å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µåªæœ‰ä¸€ç§ï¼šèµ‹å€¼è¯­å¥çš„éæ¨¡å¼éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å· 123[(b)] = [3]; // æ­£ç¡®({ p: (d) } = {}); // æ­£ç¡®[(parseInt.prop)] = [3]; // æ­£ç¡® ç”¨é€”1.äº¤æ¢å˜é‡çš„å€¼ 123let x = 1;let y =2;[x, y] = [y, x]; 2.ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼ç›´æ¥å–å€¼å°±å¯ä»¥ 1234567function example() { return { foo: 1, bar: 2 };}let { foo, bar } = example(); 3.å‡½æ•°å‚æ•°çš„å®šä¹‰4.æå–JSONæ•°æ® 12345678let jsonData = { id: 42, status: &quot;OK&quot;, data: [867, 5309]};let { id, status, data: number } = jsonData;console.log(id, status, number);// 42, &quot;OK&quot;, [867, 5309] 5.å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ 1234567891011jQuery.ajax = function (url, { async = true, beforeSend = function () {}, cache = true, complete = function () {}, crossDomain = false, global = true, // ... more config}) { // ... do stuff}; æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±é¿å…äº†åœ¨å‡½æ•°ä½“å†…éƒ¨å†å†™var foo = config.foo || â€˜default fooâ€™;è¿™æ ·çš„è¯­å¥6.éå†Mapç»“æ„ 123456789101112131415161718const map = new Map();map.set('first', 'hello');map.set('second', 'world');for (let [key, value] of map) { console.log(key + &quot; is &quot; + value);}// first is hello// second is world//å¦‚æœåªæƒ³è·å–é”®åï¼Œæˆ–è€…åªæƒ³è·å–é”®å€¼ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚// è·å–é”®åfor (let [key] of map) { // ...}// è·å–é”®å€¼for (let [,value] of map) { // ...} 7.è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•åŠ è½½æ¨¡å—æ—¶ï¼Œå¾€å¾€éœ€è¦æŒ‡å®šè¾“å…¥å“ªäº›æ–¹æ³•ã€‚è§£æ„èµ‹å€¼ä½¿å¾—è¾“å…¥è¯­å¥éå¸¸æ¸…æ™°ã€‚ 1const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;); å­—ç¬¦ä¸²çš„æ‰©å±•å­—ç¬¦çš„Unicodeè¡¨ç¤ºæ³•codePointAt()String.fromCodePoint()å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£es6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨æ¥å£,è€Œä¸”å¢åŠ çš„forâ€¦ofå¾ªç¯è¯†åˆ«ç ç‚¹ 1234567891011let text = String.fromCodePoint(0x20BB7);for (let i of text) { console.log(i);}// &quot;ğ ®·&quot;for (let i = 0; i &lt; text.length; i++) { console.log(text[i]);}// &quot; &quot;// &quot; &quot; at()es5ä¸­çš„charAtæ–¹æ³•å¯ä»¥è¿”å›å­—ç¬¦ä¸²æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œä½†æ˜¯ä¸è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦ã€‚es6æä¾›äº†at()æ–¹æ³•ï¼Œå¯ä»¥å®ç°è¿™ä¸€è¦æ±‚ 61234'abc'.charAt(0) //&quot;a&quot;'ğ ®·'.charAt(0) // &quot;\\uD842&quot;'abc'.at(0) // &quot;a&quot;'ğ ®·'.at(0) // &quot;ğ ®·&quot; normalize()includes()ã€startWith()ã€endsWithincludes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 612345678910let s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true//è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚s.startsWith('world', 6) // trues.endsWith('Hello', 5) // trues.includes('Hello', 6) // false repeat()repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚ 61'hello'.repeat(2) // &quot;hellohello&quot; padStart(),padEnd()å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½9","link":"/2017/11/14/es6/"},{"title":"GULP","text":"ç®€ä»‹1ã€Gulpæ˜¯ä¸€ä¸ªå¼€æºçš„JavaScriptå¼€æºè‡ªåŠ¨åŒ–å·¥å…·2ã€Gulpåº”ç”¨äºå‰åç«¯ä»£ç ç®¡ç†çš„ä¸€ç§å·¥å…·3ã€Gulpæ˜¯åŸºäºNode.jså’ŒNPMåº”ç”¨çš„æ„å»ºå·¥å…·4ã€Gulpä¸»è¦ç”¨äºå¤„ç†è€—æ—¶åŠé‡å¤çš„ä»»åŠ¡5ã€Gulpå¯ä»¥è§£å†³ä¸Šç™¾ç§çš„ä»»åŠ¡ ä¾‹å¦‚ï¼šå‹ç¼©ä»£ç  åˆå¹¶ä»£ç ç­‰ gulpä½œç”¨1ã€å‹ç¼©ä»£ç 2ã€åˆå¹¶ä»£ç 3ã€å‹ç¼©å›¾ç‰‡4ã€Sassã€Lessè½¬æ¢5ã€â€¦â€¦ åŸç†1ã€åŸºäºNode.jsä¸­çš„æ•°æ®æµ2ã€Gulpä¸»è¦ä½¿ç”¨pipeäº‹ä»¶è¾“å…¥åŠè¾“å‡º3ã€æ’ä»¶ç‹¬ç«‹ä½¿ç”¨ å®‰è£…æ­¥éª¤1ã€å®‰è£…Nodeç¯å¢ƒ2ã€é€šè¿‡ npm install -g gulp å®‰è£…å…¨å±€3ã€åˆå§‹åŒ–package.json4ã€åœ¨é¡¹ç›®æ–‡ä»¶ä¸­å®‰è£…gulp","link":"/2017/11/17/gulp/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2021/07/06/hello-world/"},{"title":"underscoreæºç è§£æ","text":"","link":"/2017/12/19/underscore%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"},{"title":"git","text":"åŸæ–‡é“¾æ¥","link":"/2017/12/06/git/"},{"title":"VUE","text":"==vue.js è½»é‡çº§çš„MVVMæ¡†æ¶æ•°æ®é©±åŠ¨+ç»„ä»¶åŒ–çš„å¼€å‘== åŸºæœ¬æŒ‡ä»¤1v-ifæ˜¯æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤ï¼Œå®ƒæ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡æ¥åˆ é™¤å’Œæ’å…¥å…ƒç´ ï¼Œå®ƒçš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼šv-if=â€expressionâ€ 2v-showæ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡æ¥åˆ é™¤å’Œæ’å…¥å…ƒç´  v-if=â€expressionâ€ 3å¯ä»¥ç”¨v-elseæŒ‡ä»¤ä¸ºv-ifæˆ–v-showæ·»åŠ ä¸€ä¸ªâ€œelseå—â€ã€‚v-elseå…ƒç´ å¿…é¡»ç«‹å³è·Ÿåœ¨v-ifæˆ–v-showå…ƒç´ çš„åé¢â€”â€”å¦åˆ™å®ƒä¸èƒ½è¢«è¯†åˆ«ã€‚v-ifå’Œv-elseè¿ç”¨æ—¶ï¼Œä¸æ‰§è¡Œelseæ—¶ï¼Œelseé‡Œé¢çš„HTMLä¸æ¸²æŸ“v-ifå’Œv-showè¿ç”¨æ—¶ï¼Œä¸æ‰§è¡Œelseæ—¶ï¼Œelseé‡Œé¢çš„HTMLæ¸²æŸ“ï¼Œåªæ˜¯displayï¼šnoneéšè—äº† 4v-for=â€item in itemsâ€ itemsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œitemæ˜¯å½“å‰è¢«éå†çš„æ•°ç»„å…ƒç´ ã€‚æ€»æ˜¯keyé…åˆv-forä½¿ç”¨ 12345&lt;ul&gt; &lt;li v-for=&quot;todo in todos&quot; :key=&quot;todo.id&quot;&gt; {{ todo.text }} &lt;/li&gt;&lt;/ul&gt; 5v-bind æŒ‡ä»¤å¯ä»¥åœ¨å…¶åç§°åé¢å¸¦ä¸€ä¸ªå‚æ•°ï¼Œä¸­é—´æ”¾ä¸€ä¸ªå†’å·éš”å¼€ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸æ˜¯HTMLå…ƒç´ çš„ç‰¹æ€§ï¼ˆattributeâ€“ä¸“é—¨ç”¨æ¥ç»‘å®šå±æ€§ï¼‰ï¼Œä¾‹å¦‚ï¼šv-bind:width=&quot;&quot; v-bind:argument=&quot;expression&quot; ç®€å†™å½¢å¼å¦‚ä¸‹ï¼š:argument=&quot;expression&quot; å¦å¤–å¯ä»¥ç»‘å®šç±»åç”¨æ³•1ï¼š :class=&quot;[className1,className2,className3]&quot; å…¶ä¸­ï¼ŒclassName1ã€2ã€3æ˜¯æ•°æ® æ”¾åœ¨dataä¸­çš„ç”¨æ³•2ï¼š :class=&quot;{className1:true,className2:false}&quot; å…¶ä¸­ï¼ŒclassName1ã€2æ˜¯çœŸæ­£çš„ç±»åç”¨æ³•3ï¼š :class=&quot;json&quot; jsonæ˜¯dataé‡Œé¢çš„jsonå¯ä»¥ç»‘å®šstyle :style=&quot;[c]&quot; cæ˜¯jsonå½¢å¼çš„æ•°æ® :style=&quot;[c,d]&quot; cå’Œdéƒ½æ˜¯jsonå½¢å¼çš„æ•°æ®ï¼Œå¤šä¸ªæ ·å¼çš„å†™æ³• :style=&quot;json&quot; jsonæ˜¯dataä¸­çš„æ•°æ® 6v-onæŒ‡ä»¤ç”¨äºç»™ç›‘å¬DOMäº‹ä»¶ï¼Œå®ƒçš„ç”¨è¯­æ³•å’Œv-bindæ˜¯ç±»ä¼¼çš„ï¼Œä¾‹å¦‚ç›‘å¬&lt;a&gt;å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ï¼š&lt;a v-on:click=&quot;doSomething&quot;&gt;v-on æœ‰ç®€å†™å½¢å¼ï¼Œå¦‚ä¸‹ï¼š&lt;a @click=&quot;doSomething&quot;&gt; 7.æ¨¡æ¿æ•°æ®æ›´æ–°æ¨¡æ¿å˜åŒ–-->v-text=\"msg\" åé¢çš„æ–¹æ³•å¯ä»¥é˜²æ­¢é—ªçƒ 1{{*msg}} æ•°æ®åªç»‘å®šä¸€æ¬¡ 1{{{msg}}} å°†HTMLè½¬è¯‘è¾“å‡ºâ€“&gt;v-html=â€msgâ€ åé¢çš„æ–¹æ³•å¯ä»¥é˜²æ­¢é—ªçƒï¼Œå‰é¢çš„æ–¹æ³•v2.0å·²ç»åˆ æ‰äº† 8.è¿‡æ»¤å™¨è¿‡æ»¤æ¨¡æ¿æ•°æ® ç³»ç»Ÿæä¾›ä¸€äº›è¿‡æ»¤å™¨: 12{{msg| filterA}}{{msg| filterA | filterB}}","link":"/2017/11/15/vue/"},{"title":"","text":"è¢«wx-open-launch-weappæŠ˜ç£¨ç´¯äº†ï¼Œä¹Ÿå°±ä¸åºŸè¯äº†ï¼Œç›´æ¥ä¸Šå…³é”®ç‚¹ï¼š ps:å…¶ä»–ç»†èŠ‚ä¸èµ˜è¿°ï¼Œè‡ªè¡Œç™¾åº¦ï¼Œæœ‰å¾ˆå¤šæ¡ˆä¾‹ å¼•å…¥jweixin.jsï¼Œéœ€è¦1.6.0ç‰ˆæœ¬ http://res2.wx.qq.com/open/js/jweixin-1.6.0.js è®¾ç½®wx.config è®¾ç½®ï¼šopenTagList:['wx-open-launch-weapp']ï¼ˆå¿…é¡»æœ‰ï¼Œè·³è½¬å°ç¨‹åºï¼‰è®¾ç½®ï¼šjsApiList:['chooseImage', 'previewImage']ï¼ˆå¿…é¡»æœ‰ï¼Œä¸ç„¶å®‰å“ä¸æ˜¾ç¤ºï¼‰ vueä¸­å¿½ç•¥wx-open-launch-weappæ ‡ç­¾æ£€æµ‹ åœ¨main.jsä¸­æ·»åŠ ï¼šVue.config.ignoredElements = ['wx-open-launch-weapp'] åœ¨vueé¡µé¢ä¸­æ·»åŠ wx-open-launch-weappæ ‡ç­¾ åœ¨vueçš„è§†å›¾é¡µï¼š 12345678910111213141516171819&lt;wx-open-launch-weapp id=&quot;launch-btn&quot; username=&quot;gh_xxxxxxx&quot; path=&quot;pages/order-tab/order-tab.html&quot; @launch=&quot;sucFun&quot; @error=&quot;errFun&quot; &gt; &lt;script type=&quot;text/wxtag-template&quot;&gt; &lt;style&gt;.guideBtn{width: 347px; height: 50px; background-color: #ff6611; border-radius: 2px; color: #fff; font-size: 16px; line-height: 50px; text-align: center;}&lt;/style&gt; &lt;div class=&quot;guideBtn&quot;&gt;å»æ³¨å†Œ&lt;/div&gt; &lt;/script&gt;&lt;/wx-open-launch-weapp&gt; åœ¨vueçš„methodsä¸­ï¼š 12sucFun(msg) { console.log(msg) },errFun(msg) { console.log(msg) } å¦å¤–ï¼Œåœ¨vueä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨v-htmlå»ç»‘å®šï¼Œä¾‹å¦‚ï¼š åœ¨vueè§†å›¾ä¸­ï¼š 1&lt;div id=&quot;wxLaunchBox&quot; v-html=&quot;weappDom&quot;&gt;&lt;/div&gt; åœ¨vueçš„scriptä¸­ï¼ˆå¯æ”¾åœ¨createdä¸­ï¼‰ï¼š 123456789101112131415161718192021this.weappDom = ` &lt;wx-open-launch-weapp id=&quot;launch-btn&quot; username=&quot;gh_xxxxxx&quot; path=&quot;pages/order-tab/order-tab.html&quot; @launch=&quot;sucFun&quot; @error=&quot;errFun&quot; &gt; &lt;script type=&quot;text/wxtag-template&quot;&gt; &lt;style&gt;.guideBtn{width: 347px; height: 50px; background-color: #ff6611; border-radius: 2px; color: #fff; font-size: 16px; line-height: 50px; text-align: center;}&lt;/style&gt; &lt;div class=&quot;guideBtn&quot;&gt;å»æ³¨å†Œ&lt;/div&gt; &lt;/script&gt; &lt;/wx-open-launch-weapp&gt; ` æ³¨æ„ï¼švueé¡µé¢ä¸­ï¼Œå¯ä»¥ä½¿ç”¨&lt;script type=&quot;text/wxtag-template&quot;&gt;&lt;/script&gt;è¿›è¡ŒåŒ…è£¹æ ‡ç­¾æ™®é€šhtmlé¡µé¢ä¸­ï¼Œä½¿ç”¨&lt;template&gt;&lt;/template&gt;è¿›è¡ŒåŒ…è£¹æ ·å¼ä¸­ä¸å¯æ·»åŠ position:fixedï¼Œposition:absoulteæ ·å¼ï¼Œä¸ç„¶æŒ‰é’®ä¸å±•ç¤º ç¯å¢ƒ å¾®ä¿¡å¼€å‘å·¥å…·å’ŒçœŸæœºæµ‹è¯•ç»“æœå¯èƒ½ä¸ä¸€æ ·ï¼Œä¸€å®šè¦ç”¨çœŸæœºæµ‹è¯•å®‰å“å’Œiosæµ‹è¯•ç»“æœä¹Ÿå¯èƒ½ä¸åŒï¼Œéƒ½è¦æµ‹è¯•6. å°ç¨‹åºçš„web-viewä¸æ”¯æŒwx-open-launch-weapp æ‰€ä»¥åœ¨h5é¡µé¢ä¸­ä½¿ç”¨wx-open-launch-weappè·³è½¬Aå°ç¨‹åºï¼Œå¦‚æœå°†æ­¤h5é€šè¿‡webviewçš„æ–¹å¼åµŒå…¥Bå°ç¨‹åºï¼Œè¿™ä¸ªåŠŸèƒ½å°†å¤±æ•ˆï¼ŒæŒ‰é’®ä¹Ÿä¸ä¼šå±•ç¤º æ­¤æƒ…å†µè¿˜æ˜¯é‡‡ç”¨é•¿æŒ‰è¯†åˆ«å°ç¨‹åºç å§ï¼ï¼ˆç›´æ¥æ”¾ä¸Šå°ç¨‹åºç å›¾ç‰‡&lt;img src=&quot;xxx&quot; alt=&quot;å°ç¨‹åºç &quot; /&gt;å°±å¯ä»¥ï¼Œç³»ç»Ÿè‡ªå¸¦é•¿æŒ‰è¯†åˆ«åŠŸèƒ½ï¼‰â€”â€”å®˜æ–¹çš„è§„æ ¼è¿˜æ²¡æœ‰æ˜ç¡®è¯´æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ã€‚ å¦‚æœç›´æ¥ä½¿ç”¨imgæ”¾å°ç¨‹åºç é¡µä¸è¯†åˆ«ï¼Œé‚£å°±å†é€€è€Œæ±‚å…¶æ¬¡å§ï¼Œå¯ä»¥ä½¿ç”¨å®˜æ–¹æ–‡æ¡£æä¾›çš„å›¾ç‰‡é¢„è§ˆçš„åŠŸèƒ½ï¼š 1234wx.previewImage({ current: '', // å½“å‰æ˜¾ç¤ºå›¾ç‰‡çš„httpé“¾æ¥ï¼ˆæ³¨æ„ï¼šæ˜¯åœ¨çº¿é“¾æ¥ï¼Œä¸æ˜¯æœ¬åœ°ï¼‰ urls: [] // éœ€è¦é¢„è§ˆçš„å›¾ç‰‡httpé“¾æ¥åˆ—è¡¨ï¼ˆæ³¨æ„ï¼šæ˜¯åœ¨çº¿é“¾æ¥ï¼Œä¸æ˜¯æœ¬åœ°ï¼‰&gt;}); ç‚¹å‡»ä¹‹åï¼Œå‡ºç°é¢„è§ˆçš„å°ç¨‹åºç æˆ–äºŒç»´ç ç•Œé¢ï¼Œç„¶åé•¿æŒ‰è¯†åˆ« å¦‚æœè¿˜æ˜¯ä¸å¯ä»¥ï¼Œé‚£å°±æ›´æ¢éœ€æ±‚æˆ–äº¤äº’æ–¹å¼ã€‚æ€»ä¹‹ï¼Œå¤§å®¶è‡ªå·±æƒ³åŠæ³•å§ğŸ¤ª psï¼š å°½è‡ªå·±çš„ç»µè–„ä¹‹åŠ›è®©å¤§å®¶å°‘èµ°ç‚¹å‘ï¼Œå…¶ä»–çš„å‘å¤§å®¶æ…¢æ…¢è¸©å§ğŸ·ã€‚è¯´å®è¯ï¼Œå¾®ä¿¡ç›¸å…³å¼€å‘æ˜¯çœŸçš„å‘ï¼ŒåŠå…¶ä¸å‹å¥½ğŸ˜­ğŸ˜­ğŸ˜­ï¼ˆç—›è‹¦ä¸‰è¿~~~ï¼‰","link":"/2021/07/07/wx-open-launch-weapp/"},{"title":"åŸç”ŸJS","text":"å·¥ä½œçº¿ç¨‹ï¼ˆwebWorkerï¼‰ç®€ä»‹ï¼šweb workeræ˜¯HTML5å¼•å…¥çš„ä¸€ä¸ªå·¥ä½œçº¿ç¨‹çš„æ¦‚å¿µï¼Œæ˜¯è¿è¡Œåœ¨åå°çš„JavaScriptï¼Œç‹¬ç«‹äºå…¶ä»–è„šæœ¬ã€‚å…è®¸å¼€å‘äººå‘˜ç¼–å†™èƒ½å¤Ÿé•¿æ—¶é—´è¿è¡Œè€Œä¸è¢«ç”¨æˆ·æ‰€ä¸­æ–­çš„åå°ç¨‹åºï¼Œå»æ‰§è¡Œäº‹åŠ¡æˆ–è€…é€»è¾‘ï¼Œå¹¶åŒæ—¶ä¿è¯é¡µé¢å¯¹ç”¨æˆ·çš„å“åº”ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å…è®¸JavaScriptåˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚ä»è€Œï¼Œå¯ä»¥ç”¨webWorkeræ¥å¤„ç†ä¸€äº›æ¯”è¾ƒè€—æ—¶çš„è®¡ç®—ã€‚","link":"/2017/11/18/%E5%8E%9F%E7%94%9Fjs%E6%9C%89%E8%B6%A3%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"title":"è®¾è®¡æ¨¡å¼","text":"å•ä¾‹æ¨¡å¼ å•ä¾‹æ¨¡å¼ä¿è¯ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å¥¹çš„å…¨å±€è®¿é—®ç‚¹ 123456function getSingle(fn){ let result return function (){ return result || (result=fn.apply(this,arguments)) }} ç­–ç•¥æ¨¡å¼ è§£å†³ä¸€ä¸ªé—®é¢˜çš„å¤šä¸ªæ–¹æ³•ï¼Œå°†æ¯ç§æ–¹æ³•ç‹¬ç«‹å°è£…èµ·æ¥ï¼Œç›¸äº’å¯ä»¥è½¬æ¢ ä¸€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯ä¸€ç»„ç­–ç•¥ç±»ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ï¼Œä¸€ä¸ªæ˜¯ç¯å¢ƒç±»ï¼Œç¯å¢ƒç±»æ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼ŒéšåæŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸ªç­–ç•¥ç±»ç­–ç•¥æ¨¡å¼çš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯ï¼šè¡¨å•éªŒè¯ï¼Œå°†ä¸åŒéªŒè¯è§„åˆ™å°è£…æˆä¸€ç»„ç­–ç•¥ï¼Œé¿å…äº†å¤šé‡æ¡ä»¶åˆ¤æ–­è¯­å¥ä¸€å¥ç»å…¸çš„è¯: åœ¨å‡½æ•°ä½œä¸ºä¸€ç­‰å¯¹è±¡çš„è¯­è¨€ä¸­ï¼Œç­–ç•¥æ¨¡å¼æ˜¯éšæ€§çš„ï¼Œç­–ç•¥å°±æ˜¯å€¼ä¸ºå‡½æ•°çš„å˜é‡ä¾‹å­: 12345678910111213const S = (salary)=&gt;{ return salary * 4}const A = (salary)=&gt;{ return salary * 3}const B = (salary)=&gt;{ return salary * 2}const calculate = (fun,salary)=&gt;{ return fun(salary)}calculate(S,1000) ä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—® ä¸ç›´æ¥å’Œæœ¬ä½“è¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯åœ¨ä¸­é—´åŠ å…¥ä¸€å±‚ä»£ç†ï¼Œä»£ç†æ¥å¤„ç†ä¸€äº›ä¸éœ€è¦æœ¬ä½“åšçš„æ“ä½œ 123456789101112131415161718192021var myImage=function(){ var imgNode=document.createElement('img') document.body.appendChild(imgNode) return { setImg(src){ imgNode.src=src } }}var proxyImg=function(){ var img =new Image() img.onload=function(){ myImage.setSrc(this.src) } return { setImg(src){ myImage.setSrc(â€˜loading.pngâ€™) img.src=src } }} ä»£ç†çš„æ„ä¹‰å¯¹å•ä¸€èŒè´£åŸåˆ™çš„ä¸€ç§è¡¨ç°ï¼Œå•ä¸€èŒè´£åŸåˆ™æŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªå‡½æ•°æˆ–ç±»åº”è¯¥åªè´Ÿè´£ä¸€ä»¶äº‹ï¼Œå¦‚ä½•ä¸€ä¸ªå‡½æ•°èŒè´£å¤ªå¤šï¼Œç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ï¼Œå½“ä¸€éƒ¨åˆ†éœ€è¦æ”¹åŠ¨æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½å°±å½±å“åˆ°äº†å‡½æ•°çš„å…¶ä»–éƒ¨åˆ† è§‚å¯Ÿè€…å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼è§‚å¯Ÿè€…å’Œå‘å¸ƒã€è®¢é˜…æ¨¡å¼ä½¿ç¨‹åºçš„ä¸¤éƒ¨åˆ†ä¸å¿…ç´§å¯†è€¦åˆåœ¨ä¸€èµ·ï¼Œè€Œæ˜¯é€šè¿‡é€šçŸ¥çš„æ–¹å¼æ¥é€šä¿¡ è§‚å¯Ÿè€…æ¨¡å¼ ä¸€ä¸ªå¯¹è±¡ç»´æŒä¸€ç³»åˆ—ä¾èµ–äºå®ƒçš„å¯¹è±¡ï¼Œå½“å¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ä¸»åŠ¨é€šçŸ¥è¿™äº›ä¾èµ–å¯¹è±¡ è¿™é‡Œæ³¨æ„æ˜¯å¯¹è±¡ç›´æ¥ç®¡ç†ç€ä¾èµ–åˆ—è¡¨ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒã€è®¢é˜…æ¨¡å¼çš„ä¸»è¦åŒºåˆ« 1234567891011121314151617class Subject{ constructor(){ this.observers=[] } add(observer){ this.observers.push(observer) } notify(data){ for(let observer of this.observers){ observer.update(data) } }}class Observer{ update(){ }} å‘å¸ƒè®¢é˜…æ¨¡å¼è¯¥æ¨¡å¼åœ¨ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¹‹é—´åŠ å…¥ä¸€å±‚ç®¡é“ï¼Œä½¿å¾—ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¸ç›´æ¥äº¤äº’ï¼Œå‘å¸ƒè€…å°†å†…å®¹å‘å¸ƒåˆ°ç®¡é“ï¼Œè®¢é˜…è€…è®¢é˜…ç®¡é“é‡Œçš„å†…å®¹ï¼Œç›®çš„æ˜¯é¿å…è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´äº§ç”Ÿä¾èµ–å…³ç³»12345678910111213141516171819202122232425262728293031323334353637383940class Pubsub{ constuctor(){ this.pubsub={} this.subId=-1 } publish(topic,data){ if(!this.pubsub[topic]) return const subs=this.pubsub[topic] const len=subs.length while(len--){ subs[len].update(topic,data) } } /** * topic {string} * update {function} */ subscribe(topic,update){ !this.pubsub[topic] &amp;&amp; (this.pubsub[topic]=[]) this.subId++ this.pubsub[topic].push({ token:this.subId, update }) } unsubscribe(token){ for(let topic in this.pubsub){ if(this.pubsub.hasOwnProperty(topic)){ const current=this.pubsub[topic] for(let i=0,j=current.length;i&lt;j;i++){ if(current[i].token==token){ current.splice(i,1) return token } } } } return this }} å‘½ä»¤æ¨¡å¼ å‘½ä»¤æ¨¡å¼çš„å‘½ä»¤æŒ‡çš„æ˜¯ä¸€ä¸ªæ‰§è¡ŒæŸäº›ç‰¹å®šäº‹æƒ…çš„æŒ‡ä»¤ å‘½ä»¤æ¨¡å¼æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šæœ‰æ—¶å€™éœ€è¦å‘æŸäº›å¯¹è±¡å‘é€è¯·æ±‚ï¼Œä½†æ˜¯ä¸çŸ¥é“è¯·æ±‚çš„æ¥å—è€…æ˜¯è°ï¼Œä¹Ÿä¸çŸ¥é“è¢«è¯·æ±‚çš„æ“ä½œæ˜¯ä»€ä¹ˆã€‚æ­¤æ—¶å¸Œæœ›ç”¨ä¸€ç§æ¾è€¦åˆçš„æ–¹å¼æ¥è®¾è®¡ç¨‹åºï¼Œæ˜¯ä½¿å¾—è¯·æ±‚å‘é€è€…å’Œæ¥å—è€…æ¶ˆé™¤å½¼æ­¤ä¹‹é—´çš„è€¦åˆå…³ç³»å‘½ä»¤æ¨¡å¼çš„ç”±æ¥ï¼Œå…¶å®æ˜¯å›è°ƒå‡½æ•°çš„ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ›¿ä»£å“ä¸€å¥è¯æ¥è¯´ï¼Œå‘½ä»¤æ¨¡å¼å°±æ˜¯ç”¨ä¸€ä¸ªå‡½æ•°æ¥åŒ…è£¹ä¸€ä¸ªå…·ä½“çš„å®ç°ï¼Œè¿™ä¸ªå‡½æ•°ç»Ÿä¸€å®šä¹‰äº†ä¸€ä¸ª execute æ–¹æ³•æ¥è°ƒç”¨å…·ä½“çš„å®ç°æ–¹æ³•ï¼Œè€Œè¯·æ±‚è€…åªè¦å’Œè¿™ä¸ªå‘½ä»¤å‡½æ•°äº¤æµå°±è¡Œ äº«å…ƒæ¨¡å¼ äº«å…ƒæ¨¡å¼é¡¾åæ€ä¹‰ï¼Œå…±äº«ä¸€äº›å•å…ƒï¼Œç”¨äºä¼˜åŒ–é‡å¤ã€ç¼“æ…¢åŠæ•°æ®å…±äº«æ•ˆç‡è¾ƒä½çš„ä»£ç  åº”ç”¨ï¼šä¸€æ˜¯ç”¨äºæ•°æ®å±‚ï¼Œå¤„ç†å†…å­˜ä¸­ä¿å­˜çš„å¤§é‡ç›¸ä¼¼å¯¹è±¡çš„å…±äº«æ•°æ®ï¼ŒäºŒæ˜¯ç”¨äº DOM å±‚ï¼Œäº‹ä»¶ä»£ç†åœ¨äº«å…ƒæ¨¡å¼ä¸­ï¼Œæœ‰ä¸ªæœ‰å…³ä¸¤ä¸ªçŠ¶æ€çš„æ¦‚å¿µ - å†…éƒ¨å’Œå¤–éƒ¨å†…éƒ¨çŠ¶æ€å­˜å‚¨äºå¯¹è±¡å†…éƒ¨ï¼Œå¯ä»¥è¢«ä¸€äº›å¯¹è±¡å…±äº«ï¼Œç‹¬ç«‹äºå…·ä½“çš„åœºæ™¯ï¼Œé€šå¸¸ä¸ä¼šå˜å¤–éƒ¨çŠ¶æ€æ ¹æ®åœºæ™¯è€Œå˜åŒ–å‰¥ç¦»äº†å¤–éƒ¨çŠ¶æ€çš„å¯¹è±¡æˆä¸ºå…±äº«å¯¹è±¡ï¼Œå¤–éƒ¨çŠ¶æ€åœ¨å¿…è¦æ—¶è¢«ä¼ å…¥å…±äº«å¯¹è±¡æ¥ç»„æˆä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡ä½¿ç”¨äº«å…ƒæ¨¡å¼çš„å‡ ä¸ªæ­¥éª¤ï¼šä»¥ä¹¦ä¸­æ–‡ä»¶ä¸Šä¼ çš„ä¾‹å­æè¿°1.å‰¥ç¦»å¤–éƒ¨çŠ¶æ€ 12345678910111213class Upload { constructor(type) { this.uploadType = type } delFile(id) { uploadManager.setExternalState(id, this) //è¿™é‡Œå°±æ˜¯ç»„è£…å¤–éƒ¨çŠ¶æ€æ¥ä½¿å…±äº«å¯¹è±¡å˜æˆä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ if (this.fileSize &lt; 3000) { //ç›´æ¥åˆ é™¤ return } //å¼¹çª—è¯¢é—®ç¡®è®¤åˆ é™¤ï¼Ÿ }} 2.ä½¿ç”¨å·¥å‚è¿›è¡Œå¯¹è±¡å®ä¾‹åŒ– 1234567891011var UploadFactory = (function() { const flyWeightObjs = {} return { create(uploadType) { if (flyWeightObjs[uploadType]) { return flyWeightObjs[uploadType] } return flyWeightObjs[uploadType] = new Upload(uoloadType) } }})() 3.ä½¿ç”¨ç®¡ç†å™¨å°è£…å¤–éƒ¨çŠ¶æ€ 1234567891011121314151617181920212223var uploadManager = (function() { var uploadDatabase = {} return { add(id, uploadType, fileSize, fileName) { var flyWeightObj = UploadFactory.create(uploadType) //é‚£ä¸ªè¢«å…±äº«çš„å¯¹è±¡ //åˆ›å»ºç»“ç‚¹... //åˆ é™¤æ“ä½œ dom.onclick = function() { flyWeightObj.delFile(id) //è¿™ä¸ªå…±äº«åœ¨æ­¥éª¤1ä¸­ä¼šè¢«ç»„åˆï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰åœ¨åˆ é™¤æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰éœ€è¦é‚£äº›å¤–éƒ¨çŠ¶æ€ } uploadDatabase[id] = { fileName, fileSize, dom } return flyWeightObj }ï¼Œ setExternalState(id, flyWeight) { var externalState = uploadDatabase[id] Object.assign(flyWeight, externalState) } }})() è´£ä»»é“¾æ¨¡å¼ å°†ä¸€ä¸ªè¯·æ±‚ä»¥æ­¤ä¼ é€’ç»™å¤šä¸ªå‡½æ•°ï¼Œè‹¥è¯·æ±‚ç¬¦åˆå½“å‰å‡½æ•°è¦æ±‚ï¼Œåˆ™å½“å‰å‡½æ•°å¤„ç†ï¼Œå¦åˆ™ï¼Œä¼ ç»™ä¸‹ä¸€ä¸ª å¾ˆå¥½å¾ˆå¼ºå¤§è´£ä»»é“¾æ¨¡å¼å¯ä»¥å¾ˆå¥½çš„é¿å…å¤§é‡çš„ if,else if,else 123456789101112131415161718192021222324252627282930313233343536373839404142434445if (Function.prototype.chainAfter) { throw new Error('the chainAfter method already exist')} else { Function.prototype.chainAfter = function(fn) { return (...args) =&gt; { const ret = this.apply(this, [...args, () =&gt; { return fn &amp;&amp; fn.apply(this, args) }]) if (ret === 'NEXT') { return fn &amp;&amp; fn.apply(this, args) } return ret } }}/* * example * class Test{ * * test(...args){ * alert('test') * return 'NEXT' * } * * test1(...args){ * * setTimeout(()=&gt;{ * alert('test1') * args.pop()() * }) * } * * test2(...args){ * alert('test2') * } * * $onInit(){ * const chain = this.test.bind(this) * .chainAfter(this.test1.bind(this)) * .chainAfter(this.test2.bind(this)) * chain(1,2,3) * } * } * */ è£…é¥°è€…æ¨¡å¼ åœ¨ä¸æ”¹å˜åŸæœ‰å‡½æ•°æˆ–å¯¹è±¡åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œç»™å®ƒä»¬æ–°åŠ åŠŸèƒ½ ç”¨ AOP è£…é¥°å‡½æ•° 123456789101112131415161718192021if (Function.prototype.before) { throw new Error('the before method already exist')} else { Function.prototype.before = function(beforefn) { return () =&gt; { if (beforefn.apply(this, arguments)) { this.apply(this, arguments) } } }}if (Function.prototype.after) { throw new Error('the after method already exist')} else { Function.prototype.after = function(afterfn) { return () =&gt; { this.apply(this, arguments) afterfn.apply(this, arguments) } }} çŠ¶æ€æ¨¡å¼ å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±» è¦ç‚¹ï¼šå°†çŠ¶æ€å°è£…æˆç‹¬ç«‹çš„å‡½æ•°ï¼Œå¹¶å°†è¯·æ±‚å§”æ‰˜ç»™ å½“å‰çš„çŠ¶æ€å¯¹è±¡ï¼Œå½“å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œä¼šå¸¦æ¥ä¸åŒçš„è¡Œä¸ºå˜åŒ–ç”µç¯çš„ä¾‹å­ï¼šä¸€ä¸ªæŒ‰é’®æ§åˆ¶ç”µç¯çš„å¼€å…³ï¼ŒæŒ‰ä¸€ä¸‹æ˜¯å¼€ï¼Œå†æŒ‰ä¸€ä¸‹æ˜¯å…³åˆå§‹å®ç°ï¼š 1234567891011121314151617181920class Light { constructor() { this.state = 'off', this.button = null } init() { //åˆ›å»ºæŒ‰é’®ç»“ç‚¹ ..... this.button.onClick = () =&gt; { this.btnPressed() } } btnPressed() { if (this.state == 'off') { this.state = 'on' } else { this.state = 'off' } }} è¿™æ®µä»£ç çš„ç¼ºç‚¹å°±æ˜¯ä¸æ˜“æ‰©å±•ï¼Œå½“è¦åŠ å…¥ä¸€ç§é—ªåŠ¨çš„çŠ¶æ€æ—¶ï¼Œå°±è¦ä¿®æ”¹ btnPressed ä¸­çš„ä»£ç  ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ”¹å†™ 123456789101112131415161718192021222324252627class Light { constructor() { this.state = FSM.off, this.button = null } init() { //åˆ›å»ºæŒ‰é’®ç»“ç‚¹ ..... this.button.onClick = () =&gt; { this.state.btnPressed.call(this) } }}const FSM = { on: { btnPressed() { //å¤„ç† this.state = FMS.on } }, off: { btnPressed() { //å¤„ç† this.state = FMS.off } }} ç‚¹å‡»æŸ¥çœ‹åŸæ–‡","link":"/2017/11/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"coding","slug":"coding","link":"/tags/coding/"},{"name":"å·¥å…·ç±»","slug":"å·¥å…·ç±»","link":"/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/"}],"categories":[{"name":"web","slug":"web","link":"/categories/web/"},{"name":"js","slug":"web/js","link":"/categories/web/js/"},{"name":"å·¥å…·","slug":"web/å·¥å…·","link":"/categories/web/%E5%B7%A5%E5%85%B7/"},{"name":"vue","slug":"web/vue","link":"/categories/web/vue/"},{"name":"è®¾è®¡æ¨¡å¼(web)","slug":"web/è®¾è®¡æ¨¡å¼-web","link":"/categories/web/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-web/"}]}